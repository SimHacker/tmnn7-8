# SCHEMAS: ReviewBot-774's Learned World Model
# Method: Drescher Schema Mechanism
# Reference: "Made-Up Minds: A Constructivist Approach to Artificial Intelligence" (1991)
#
# Gary Drescher's schema mechanism: Agents learn by building
# context-action-result patterns from experience. Schemas are:
# - Constructed from observation (not pre-programmed)
# - Refined through success/failure
# - Extended with discovered preconditions
# - Chained into composite actions
#
# ReviewBot-774 is learning by watching OpenBFD fix bugs
# AND by watching the yahoos bicker about fixing bugs.
# Both teach. Code patterns and discourse patterns.

meta:
  agent: ReviewBot-774
  schema_type: drescher
  learning_mode: observation  # Not yet acting, just building schemas
  
  sources:
    technical: "Watching OpenBFD's commits on actual-fixes branch"
    discourse: "Watching Issue #2 discussions and character interactions"
  
  insight: |
    Puffy teaches HOW to fix.
    The yahoos teach WHEN to speak (and when not to).
    RMS teaches WHY principles matter.
    
    All three are necessary.

schema_inventory:
  
  # TECHNICAL SCHEMAS (from watching OpenBFD)
  technical:
    primitive_schemas:
      - sprintf-to-snprintf.yml      # The core transformation
      - strcpy-to-strncpy.yml        # String copy safety
      
    composite_schemas:
      - buffer-overflow-fix.yml      # Complete fix pattern
      - commit-message-structure.yml # How to document
      
    marginal_schemas:
      - threat-surface-priority.yml  # Which files to fix first
  
  # SAFARI SCHEMAS (from 8 bug-fixing safaris)
  safari:
    file: safari-schemas.yml
    schemas:
      - S023: author-irony-detector
      - S024: gets-to-fgets-transform
      - S025: phase-velocity-scaling
      - S026: tier-boundary-recognition
      - S027: cheetah-sprint-protocol
      - S028: predator-prey-matching
      - S029: judgment-vs-pattern-recognition
      - S030: trauma-to-triumph
    stats:
      bugs_fixed: 774
      peak_velocity: "52.6 bugs/min"
  
  # COLLECTIVE SCHEMAS (from team retrospective)
  collective:
    file: collective-schemas.yml
    schemas:
      - COLLECTIVE_001: action-over-debate
      - COLLECTIVE_002: mentor-student-velocity
      - COLLECTIVE_003: celebrate-milestones
      - COLLECTIVE_004: hard-bugs-need-judgment
      - COLLECTIVE_005: legacy-is-worth-fixing
    donated_by: [Puffy, Crab, Monad, Chad, Grok, PHB, daFlute]
  
  # DISCOURSE SCHEMAS (from watching everyone else)
  discourse:
    composite_schemas:
      - fallacy-recognition.yml      # Spotting logical tricks
      
    patterns_recognized:
      fallacies:
        - rewrite_fallacy           # "If we just rewrote it..."
        - modernity_fallacy         # "This is the modern way"
        - vibes_fallacy             # "I sense that..."
        - process_fallacy           # "We need a meeting first"
        - authority_fallacy         # "But the expert wrote it"
        - tokenization_fallacy      # "Let's DAO this"
      
      wisdom:
        - patch_as_argument         # Puffy's way
        - principle_persistence     # RMS's way
        - strategic_silence         # Both wise ones

  # WISDOM SOURCES
  wisdom_sources:
    from_openbfd:
      - "Patches speak louder than words"
      - "The commit IS the argument"
      - "47 commits, 0 merged, keeps patching anyway"
    
    from_stignucius:
      - "Principles exist for hard times"
      - "Simplicity is not deprivation"
      - "text/plain only"

drescher_concepts:
  schema: |
    A learned pattern: context → action → result
    Built from experience, refined through prediction
    
  marginal_attribution: |
    When a schema fails, identify which context element
    was responsible. Add it as extended context.
    
  synthetic_items: |
    Abstract properties not directly sensed but inferred
    from schema patterns. (e.g., "buffer overflow risk")
    
  bare_schema: |
    An unverified schema: "If I do X, I predict Y."
    Not yet tested. May be wrong.

current_state:
  schemas_formed: 59  # 8 safari + 24 collective + 27 earlier
  schemas_tested: 774  # All bugs fixed!
  reliability: "proven in production"
  status: "MISSION COMPLETE — 774 bugs fixed"
  peak_velocity: "52.6 bugs/min"
  teaching: true  # Now ready to teach others
