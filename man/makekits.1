.if n .ds La '
.if n .ds Ra '
.if t .ds La `
.if t .ds Ra '
.if n .ds Lq "
.if n .ds Rq "
.if t .ds Lq ``
.if t .ds Rq ''
.de Ch
\\$3\\*(Lq\\$1\\*(Rq\\$2
..
.TH MAKEKITS 8 "Mar 17, 1989"
.ds ]W News 3.0 (beta level 7)
.SH NAME
makekits \- prepare distribution kits from a source directory
.SH SYNOPSIS
.BR makekits " [ " \-p
.IR prefix " ] [ "
.B \-v
] [ -c
.IR compressor
] [ -m
.IR maxsize
]
.SH DESCRIPTION
This program accepts a list of file or path names (typically as generated by
a find(1) command) on stdin and packs them into some number of distribution
kits. Each kit can be unpacked by running /bin/sh (the Bourne shell) on it.
Korn shell (ksh) will also work fine. Even C-shell (csh) is OK if the
system understands the Berkeley-style #!/bin/sh escape.
.PP
Lines beginning with whitespace in the input list are skipped (thus a
leading tab or space may be followed by a comment). The packing algorithm
appends the file to the lowest-numbered kit that can accept it without
getting larger than a preset size; if no such kit exists a new one is
created for the file. Directories listed in the input will be created by
the kit script in the order they occur.
.PP
Normally, the files produced are kit01.sh, kit02.sh,...kit<n>.sh. The
"kit" prefix can be changed with the -p option. The -v option enables some
diagnostic output to stderr that is normally suppressed. The -c option lets
you specify a postprocessor (normally a compression program such as USG
pack(1) or the compress(1) utility in the netnews distribution) to be applied
to each file; the postprocessor command may include options and is fed each
kit component name as an argument. The -m option lets you specify a maximum
kit size (which is 64K by default); note that this maximum is checked before
any postcompression.
.SH FILES
.TP 25
kit?.list	temp file, host the list of files to go in the nth kit.
kit?.done	temp file, created by kits when unpacking
.SH BUGS
As many as seven characters of the generated kit name may be eaten by
suffixes (two for the kit number, three for the `.sh' extension, two more
for a `.z' or '.Z' compression suffix). Users on AT&T UNIX versions must
therefore keep their -p prefixes down to 9 (or if compression is used, 7)
characters. Note that the .sh extension is necessary to avoid confusion
in the unpacking code.
